"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Div_1 = require("../../core/Div");
const UnorderedList_1 = require("../../core/UnorderedList");
//@ts-ignore
const menu_1 = require("@material/menu");
exports.default = ({ menuItems, id }) => {
    initMenu(id);
    return Div_1.default({
        id: `menu-${id}`,
        class: 'mdc-menu mdc-menu-surface menu-' + id,
        children: [
            UnorderedList_1.default({
                id,
                class: "mdc-list",
                role: "menu",
                'aria-hidden': "true",
                'aria-orientation': "vertical",
                tabindex: "-1",
                children: [
                    ...menuItems || []
                ]
            })
        ]
    });
};
function toggleMenu(id) {
    //@ts-ignore
    if (!window[`menu-${id}`].root_) {
        _initMenu(id);
    }
    //@ts-ignore
    window[`menu-${id}`].open = true; //!window[`menu-${id}`].open;
    //@ts-ignore
    console.log(window[`menu-${id}`].open);
}
exports.toggleMenu = toggleMenu;
function initMenu(id) {
    document.addEventListener("DOMContentLoaded", (_) => _initMenu(id));
}
function _initMenu(id) {
    if (document.querySelector(`.menu-${id}`)) {
        //@ts-ignore
        window[`menu-${id}`] = new menu_1.MDCMenu(document.querySelector(`.menu-${id}`));
        //@ts-ignore
        window[`menu-${id}`].open = false;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVudS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tZC9NZW51L01lbnUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx3Q0FBZ0M7QUFDaEMsNERBQW9EO0FBQ3BELFlBQVk7QUFDWix5Q0FBeUM7QUFHekMsa0JBQWUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQXlDLEVBQUUsRUFBRTtJQUN4RSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUE7SUFDWixPQUFPLGFBQUcsQ0FBQztRQUNQLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRTtRQUNoQixLQUFLLEVBQUUsaUNBQWlDLEdBQUcsRUFBRTtRQUM3QyxRQUFRLEVBQUU7WUFDTix1QkFBYSxDQUFDO2dCQUNWLEVBQUU7Z0JBQ0YsS0FBSyxFQUFFLFVBQVU7Z0JBQ2pCLElBQUksRUFBRSxNQUFNO2dCQUNaLGFBQWEsRUFBRSxNQUFNO2dCQUNyQixrQkFBa0IsRUFBRSxVQUFVO2dCQUM5QixRQUFRLEVBQUUsSUFBSTtnQkFDZCxRQUFRLEVBQUU7b0JBQ04sR0FBRyxTQUFTLElBQUksRUFBRTtpQkFDckI7YUFDSixDQUFDO1NBQ0w7S0FDSixDQUFDLENBQUE7QUFDTixDQUFDLENBQUE7QUFFRCxTQUFnQixVQUFVLENBQUMsRUFBVTtJQUNqQyxZQUFZO0lBQ1osSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFO1FBQUUsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO0tBQUU7SUFDbEQsWUFBWTtJQUNaLE1BQU0sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFBLDZCQUE2QjtJQUM5RCxZQUFZO0lBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQzFDLENBQUM7QUFQRCxnQ0FPQztBQUVELFNBQVMsUUFBUSxDQUFDLEVBQVU7SUFDeEIsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN4RSxDQUFDO0FBRUQsU0FBUyxTQUFTLENBQUMsRUFBVTtJQUN6QixJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3ZDLFlBQVk7UUFDWixNQUFNLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksY0FBTyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUUsWUFBWTtRQUNaLE1BQU0sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztLQUNyQztBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGl2IGZyb20gXCIuLi8uLi9jb3JlL0RpdlwiXHJcbmltcG9ydCBVbm9yZGVyZWRMaXN0IGZyb20gXCIuLi8uLi9jb3JlL1Vub3JkZXJlZExpc3RcIlxyXG4vL0B0cy1pZ25vcmVcclxuaW1wb3J0IHsgTURDTWVudSB9IGZyb20gJ0BtYXRlcmlhbC9tZW51JztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCAoeyBtZW51SXRlbXMsIGlkIH06IHsgbWVudUl0ZW1zOiBBcnJheTxhbnk+LCBpZDogc3RyaW5nIH0pID0+IHtcclxuICAgIGluaXRNZW51KGlkKVxyXG4gICAgcmV0dXJuIERpdih7XHJcbiAgICAgICAgaWQ6IGBtZW51LSR7aWR9YCxcclxuICAgICAgICBjbGFzczogJ21kYy1tZW51IG1kYy1tZW51LXN1cmZhY2UgbWVudS0nICsgaWQsXHJcbiAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgVW5vcmRlcmVkTGlzdCh7XHJcbiAgICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiBcIm1kYy1saXN0XCIsXHJcbiAgICAgICAgICAgICAgICByb2xlOiBcIm1lbnVcIixcclxuICAgICAgICAgICAgICAgICdhcmlhLWhpZGRlbic6IFwidHJ1ZVwiLFxyXG4gICAgICAgICAgICAgICAgJ2FyaWEtb3JpZW50YXRpb24nOiBcInZlcnRpY2FsXCIsXHJcbiAgICAgICAgICAgICAgICB0YWJpbmRleDogXCItMVwiLFxyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgICAgICAgICAuLi5tZW51SXRlbXMgfHwgW11cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBdXHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlTWVudShpZDogc3RyaW5nKSB7XHJcbiAgICAvL0B0cy1pZ25vcmVcclxuICAgIGlmICghd2luZG93W2BtZW51LSR7aWR9YF0ucm9vdF8pIHsgX2luaXRNZW51KGlkKSB9XHJcbiAgICAvL0B0cy1pZ25vcmVcclxuICAgIHdpbmRvd1tgbWVudS0ke2lkfWBdLm9wZW4gPSB0cnVlOy8vIXdpbmRvd1tgbWVudS0ke2lkfWBdLm9wZW47XHJcbiAgICAvL0B0cy1pZ25vcmVcclxuICAgIGNvbnNvbGUubG9nKHdpbmRvd1tgbWVudS0ke2lkfWBdLm9wZW4pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRNZW51KGlkOiBzdHJpbmcpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIChfKSA9PiBfaW5pdE1lbnUoaWQpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2luaXRNZW51KGlkOiBzdHJpbmcpIHtcclxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubWVudS0ke2lkfWApKSB7XHJcbiAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgd2luZG93W2BtZW51LSR7aWR9YF0gPSBuZXcgTURDTWVudShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubWVudS0ke2lkfWApKTtcclxuICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICB3aW5kb3dbYG1lbnUtJHtpZH1gXS5vcGVuID0gZmFsc2U7XHJcbiAgICB9XHJcbn0iXX0=